<div class="container">
	<div class="row">
		<div class="col-xs-12 col-sm-12">
			<h1>New Idea</h1>
		</div>
	</div>
</div>
<div>
	<form class="container" #newIdeaForm="ngForm" (ngSubmit)="addIdea()">
		<div class="row">
			<div class="col-xs-12 col-sm-6">
				<div class="form-group">
					<label for="title">Title</label>
					<input class="form-control" id="title" name="title" type="text" [(ngModel)]="newIdea.title"
						   required>
				</div>

				<div class="form-group">
					<label for="description">Description</label>
					<textarea class="form-control" id="description" name="description" rows="5"
							  [(ngModel)]="newIdea.description"></textarea>
				</div>
			</div>
			<div class="col-xs-12 col-sm-6">
				<div class="row">
					<div class="col-lg-12">
						<label>linked ideas</label>
						<div class="row">
							<div class="col-xs-9 col-md-10">
								<div class="form-group">
									<autocomplete [showProperty]="'title'" (onSelected)="ideaToLink = $event"
												  (onChange)="ideaToLink = null"></autocomplete>
								</div>
							</div>
							<div class="form-group col-xs-3 col-md-2">
								<button class="btn btn-default" type="button" (click)="linkIdea()">link</button>
							</div>
						</div>
					</div>
				</div>

				<div class="panel panel-default"
					 *ngFor="let relatedIdea of newIdea.relatedIdeas; let i = index;">
					<div class="panel-body row">
						<div class="col-xs-10">
							<h4>{{relatedIdea.title}}</h4>
						</div>
						<div class="col-xs-2">
							<button class="btn btn-icon-warning pull-right" (click)="deleteIdea(i)">
								<i class="fa fa-close" aria-hidden="true"></i>
							</button>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-xs-12 text-right">
				<button class="btn btn-default" type="button" routerLink="/">Cancel</button>
				<button class="btn btn-primary" type="submit"
						[disabled]="!newIdeaForm.form.valid">Create
				</button>
			</div>
		</div>
	</form>
</div>
